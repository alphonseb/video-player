"use strict";var _createClass=function(){function o(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Player=function(){function t(e){_classCallCheck(this,t),this.state={src:e.src,muted:e.muted,autoloop:e.autoloop,width:e.width,height:e.height,poster:e.poster,class:e.class},this.init()}return _createClass(t,[{key:"init",value:function(){var e=this;this.buildPlayer(),this.$video.addEventListener("click",function(){e.doPlayPause()}),this.buildToolBar()}},{key:"buildPlayer",value:function(){this.$video=document.createElement("video");var e=!0,t=!1,a=void 0;try{for(var o,n=Object.keys(this.state)[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var i=o.value;void 0!==this.state[i]&&this.$video.setAttribute(i,this.state[i])}}catch(e){t=!0,a=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw a}}var l=document.createElement("div");l.classList.add("player"),l.appendChild(this.$video),document.body.appendChild(l)}},{key:"doPlayPause",value:function(){this.$video.paused?this.$video.play():this.$video.pause()}},{key:"buildToolBar",value:function(){var a=this;this.$toolBar=document.createElement("div"),this.$toolBar.classList.add("player__toolbar"),this.$video.parentNode.appendChild(this.$toolBar);var e=document.createElement("button");e.textContent="Play",e.classList.add("player__toolbar__playpause-button"),this.$toolBar.appendChild(e),e.addEventListener("click",function(){a.doPlayPause()});var t=document.createElement("div");t.classList.add("player__toolbar__volume-container"),this.$toolBar.appendChild(t);var o=document.createElement("button");o.textContent="Mute",o.classList.add("player__toolbar__mute-button"),t.appendChild(o),o.addEventListener("click",function(){a.$video.muted?(a.$video.muted=!1,i.style.transform="scaleX("+a.$video.volume+")"):(a.$video.muted=!0,i.style.transform="scaleX(0)")});var n=document.createElement("div");n.classList.add("player__toolbar__volume-container__volume-slider");var i=document.createElement("div");i.classList.add("filler"),n.appendChild(i),t.appendChild(n);var l=n.getBoundingClientRect(),r=!1;n.addEventListener("mousedown",function(e){r=!0;var t=(e.clientX-l.left)/l.width;i.style.transform="scaleX("+t+")",a.$video.volume=t}),window.addEventListener("mouseup",function(){i.style.transition="transform .3s",r=!1}),window.addEventListener("mousemove",function(e){if(r){i.style.transition="none";var t=(e.clientX-l.left)/l.width;1<t&&(t=1),t<0&&(t=0),i.style.transform="scaleX("+t+")",a.$video.volume=t}});var s=document.createElement("button");s.classList.add("player__toolbar__fullscreen-button"),s.textContent="Full Screen",this.$toolBar.appendChild(s);var d=!1;s.addEventListener("click",function(){d?(document.webkitExitFullscreen(),d=!1):(d=!0,a.$video.parentNode.webkitRequestFullScreen())})}}]),t}(),player=new Player({src:"videos/video.mp4",muted:!1,autoloop:!1,poster:"videos/poster.png",class:"video-player"});